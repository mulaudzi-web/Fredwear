<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fashion Hub | Shop</title>
    <style>
        /* CSS: Clean Modern Aesthetic */
        :root { --black: #111; --gray: #f4f4f4; --accent: #ff3f6c; }
        body { font-family: 'Helvetica Neue', Arial, sans-serif; margin: 0; background: white; color: var(--black); }
        
        /* Header & Search Bar */
        header { position: sticky; top: 0; background: white; border-bottom: 1px solid #ddd; z-index: 1000; padding: 10px 5%; display: flex; align-items: center; justify-content: space-between; }
        .logo { font-size: 24px; font-weight: bold; text-transform: uppercase; letter-spacing: 2px; }
        .search-container { flex: 1; margin: 0 20px; position: relative; }
        #searchBar { width: 100%; padding: 10px 15px; border: 1px solid #ccc; border-radius: 4px; background: var(--gray); }

        /* Cart Icon & Badge */
        .cart-icon-container { position: relative; cursor: pointer; font-size: 24px; }
        .cart-badge { position: absolute; top: -5px; right: -10px; background: var(--accent); color: white; font-size: 12px; padding: 2px 6px; border-radius: 50%; font-weight: bold; }

        /* Product Grid */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 15px; padding: 20px 5%; }
        .card { background: white; border: 1px solid #eee; padding-bottom: 10px; transition: 0.3s; }
        .card:hover { box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .card img { width: 100%; height: 250px; object-fit: cover; }
        .card-info { padding: 10px; text-align: center; }
        .price { font-weight: bold; color: var(--accent); margin: 5px 0; }
        .add-btn { background: var(--black); color: white; border: none; width: 90%; padding: 8px; cursor: pointer; text-transform: uppercase; font-size: 12px; }

        /* Cart Sidebar (Drawer) */
        #cartSidebar { position: fixed; right: -400px; top: 0; width: 350px; height: 100%; background: white; box-shadow: -5px 0 15px rgba(0,0,0,0.2); transition: 0.4s; z-index: 2000; padding: 20px; display: flex; flex-direction: column; }
        #cartSidebar.active { right: 0; }
        .cart-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .cart-items-list { flex: 1; overflow-y: auto; margin-top: 10px; }
        .cart-item { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px; }
        .checkout-box { border-top: 2px solid var(--black); padding-top: 15px; }
        .total-row { display: flex; justify-content: space-between; font-weight: bold; font-size: 18px; margin-bottom: 15px; }
    </style>
</head>
<body>

<header>
    <div class="logo">FASHION</div>
    <div class="search-container">
        <input type="text" id="searchBar" placeholder="Search for dresses, shirts, accessories..." onkeyup="filterItems()">
    </div>
    <div class="cart-icon-container" onclick="toggleCart()">
        ðŸ›’ <span class="cart-badge" id="cartCount">0</span>
    </div>
</header>

<div class="grid" id="productGrid">
    </div>

<div id="cartSidebar">
    <div class="cart-header">
        <h2>Your Bag</h2>
        <button onclick="toggleCart()" style="background:none; border:none; font-size:20px; cursor:pointer;">âœ•</button>
    </div>
    <div class="cart-items-list" id="cartList">
        </div>
    <div class="checkout-box">
        <div class="total-row">
            <span>Total:</span>
            <span>R<span id="cartTotal">0.00</span></span>
        </div>
        <button class="add-btn" style="padding:15px; font-size:16px;" onclick="whatsappCheckout()">Proceed to Checkout</button>
    </div>
</div>

<script>
    // 1. Data Structure (Add your items here)
    const products = [
        { id: 1, name: "Summer Floral Dress", price: 350, img: "https://picsum.photos/seed/dress/200/300" },
        { id: 2, name: "Urban Street Hoodie", price: 550, img: "https://picsum.photos/seed/hoodie/200/300" },
        { id: 3, name: "Classic Blue Jeans", price: 420, img: "https://picsum.photos/seed/jeans/200/300" },
        { id: 4, name: "Casual White Sneakers", price: 850, img: "https://picsum.photos/seed/shoes/200/300" },
        { id: 5, name: "Gold Chain Necklace", price: 120, img: "https://picsum.photos/seed/gold/200/300" }
    ];

    let cart = [];

    // 2. Load Products to Grid
    function renderProducts(items) {
        const grid = document.getElementById('productGrid');
        grid.innerHTML = items.map(p => `
            <div class="card">
                <img src="${p.img}">
                <div class="card-info">
                    <div>${p.name}</div>
                    <div class="price">R${p.price.toFixed(2)}</div>
                    <button class="add-btn" onclick="addToCart(${p.id})">Add to Bag</button>
                </div>
            </div>
        `).join('');
    }

    // 3. Search Filter Logic
    function filterItems() {
        const query = document.getElementById('searchBar').value.toLowerCase();
        const filtered = products.filter(p => p.name.toLowerCase().includes(query));
        renderProducts(filtered);
    }

    // 4. Cart Logic
    function addToCart(id) {
        const product = products.find(p => p.id === id);
        cart.push(product);
        updateUI();
    }

    function updateUI() {
        // Update badge count
        document.getElementById('cartCount').innerText = cart.length;

        // Update Cart Sidebar
        const list = document.getElementById('cartList');
        let total = 0;
        list.innerHTML = cart.map((item, index) => {
            total += item.price;
            return `<div class="cart-item"><span>${item.name}</span><span>R${item.price.toFixed(2)}</span></div>`;
        }).join('');
        
        document.getElementById('cartTotal').innerText = total.toFixed(2);
    }

    function toggleCart() {
        document.getElementById('cartSidebar').classList.toggle('active');
    }

    function whatsappCheckout() {
        let total = document.getElementById('cartTotal').innerText;
        let msg = "Order Request:%0A";
        cart.forEach(i => msg += `- ${i.name} (R${i.price})%0A`);
        msg += `%0A*TOTAL: R${total}*`;
        
        const phone = "27123456789"; // Replace with client number
        window.open(`https://wa.me/${phone}?text=${msg}`, '_blank');
    }

    // Initial Load
    renderProducts(products);
</script>

</body>
</html>
