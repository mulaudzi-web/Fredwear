<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fredwear | Premium Athleisure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .cart-badge { font-size: 0.7rem; top: -5px; right: -10px; }
        .product-card:hover { transform: translateY(-5px); transition: 0.3s; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">

    <nav class="bg-white shadow-md sticky top-0 z-50 p-4">
        <div class="container mx-auto flex flex-wrap justify-between items-center">
            <h1 class="text-2xl font-bold tracking-tighter text-black">FREDWEAR</h1>
            
            <div class="flex-1 mx-4 max-w-md">
                <input type="text" id="searchInput" onkeyup="searchProducts()" placeholder="Search gymwear..." class="w-full border rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black">
            </div>

            <div class="relative cursor-pointer" onclick="toggleCart()">
                <i class="fa-solid border p-3 rounded-full fa-bag-shopping text-xl"></i>
                <span id="cartCount" class="absolute bg-red-600 text-white rounded-full px-2 cart-badge">0</span>
            </div>
        </div>

        <div class="flex justify-center space-x-4 mt-4 overflow-x-auto pb-2 text-sm font-semibold uppercase">
            <button onclick="filterCat('All')" class="hover:underline">All</button>
            <button onclick="filterCat('T-shirts')" class="hover:underline">T-shirts</button>
            <button onclick="filterCat('Leggings')" class="hover:underline">Leggings</button>
            <button onclick="filterCat('Tops')" class="hover:underline">Tops</button>
            <button onclick="filterCat('Sports Bras')" class="hover:underline">Sports Bras</button>
            <button onclick="filterCat('Joggers')" class="hover:underline">Joggers</button>
            <button onclick="filterCat('Hoodies')" class="hover:underline">Hoodies</button>
            <button onclick="filterCat('Shorts')" class="hover:underline">Shorts</button>
            <button onclick="filterCat('Yoga')" class="hover:underline">Yoga</button>
        </div>
    </nav>

    <main class="container mx-auto p-6">
        <div id="productGrid" class="grid grid-cols-2 md:grid-cols-4 gap-6">
            </div>
    </main>

    <div id="cartModal" class="fixed right-0 top-0 h-full w-80 bg-white shadow-2xl z-[60] p-6 hidden">
        <div class="flex justify-between mb-6">
            <h2 class="text-xl font-bold">Your Cart</h2>
            <button onclick="toggleCart()" class="text-2xl">&times;</button>
        </div>
        <div id="cartItems" class="space-y-4 h-3/4 overflow-y-auto"></div>
        <div class="border-t mt-4 pt-4">
            <div class="flex justify-between font-bold text-lg">
                <span>Total:</span>
                <span id="cartTotal">R0.00</span>
            </div>
            <button onclick="checkout()" class="w-full bg-black text-white py-3 mt-4 hover:bg-gray-800 uppercase font-bold">Proceed to Payment</button>
        </div>
    </div>

    <script>
        const products = [
            { id: 1, name: "Core Compression Tee", price: 450, cat: "T-shirts", img: "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400" },
            { id: 2, name: "High-Waist Leggings", price: 600, cat: "Leggings", img: "https://images.unsplash.com/photo-1506629082955-511b1aa562c8?w=400" },
            { id: 3, name: "Pro-Fit Tank", price: 350, cat: "Tops", img: "https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=400" },
            // Add your 50 items following this pattern
        ];

        let cart = [];

        function renderProducts(items) {
            const grid = document.getElementById('productGrid');
            grid.innerHTML = items.map(p => `
                <div class="product-card bg-white p-2 rounded shadow-sm border">
                    <img src="${p.img}" class="w-full h-64 object-cover mb-4">
                    <p class="text-xs text-gray-500">${p.cat}</p>
                    <h3 class="font-bold">${p.name}</h3>
                    <p class="text-gray-700 font-semibold">R${p.price.toFixed(2)}</p>
                    <button onclick="addToCart(${p.id})" class="mt-2 w-full border border-black py-1 hover:bg-black hover:text-white transition">Add to Cart</button>
                </div>
            `).join('');
        }

        function addToCart(id) {
            const item = products.find(p => p.id === id);
            cart.push(item);
            updateCartUI();
        }

        function updateCartUI() {
            document.getElementById('cartCount').innerText = cart.length;
            const cartItems = document.getElementById('cartItems');
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            
            cartItems.innerHTML = cart.map((item, index) => `
                <div class="flex justify-between items-center text-sm">
                    <span>${item.name}</span>
                    <span>R${item.price} <button onclick="removeItem(${index})" class="text-red-500 ml-2">X</button></span>
                </div>
            `).join('');
            document.getElementById('cartTotal').innerText = `R${total.toFixed(2)}`;
        }

        function removeItem(index) {
            cart.splice(index, 1);
            updateCartUI();
        }

        function toggleCart() {
            document.getElementById('cartModal').classList.toggle('hidden');
        }

        function filterCat(cat) {
            if(cat === 'All') return renderProducts(products);
            const filtered = products.filter(p => p.cat === cat);
            renderProducts(filtered);
        }

        function searchProducts() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const filtered = products.filter(p => p.name.toLowerCase().includes(query));
            renderProducts(filtered);
        }

        function checkout() {
            const total = document.getElementById('cartTotal').innerText;
            const message = `Hello Fredwear, I want to pay for items totalling ${total}`;
            window.open(`https://wa.me/27793034760?text=${encodeURIComponent(message)}`);
        }

        renderProducts(products);
    </script>
</body>
</html>
